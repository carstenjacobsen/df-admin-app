<div> <div data-ng-show="(currentEditField === null) && (currentEditRelation === null)"> <div data-ng-show="!table.__dfUI.newTable" class="form-group well well-sm"> <button type="button" class="btn btn-default btn-sm" data-ng-click="toggleViewMode()" title="Switch between table and JSON view modes"> <span data-ng-if="viewMode === 'table'">JSON</span> <span data-ng-if="viewMode === 'json'">Table</span> </button> <button type="button" data-ng-if="viewMode === 'json'" class="btn btn-default btn-sm" data-ng-click="checkJSON()" title="Validate JSON">Validate </button> </div> <div data-ng-show="viewMode === 'table'"> <div class="form-group"> <label>Table Name</label> <input type="text" class="form-control" data-ng-model="table.record.name" placeholder="Enter table name." data-ng-disabled="!table.__dfUI.newTable"> </div> <div class="form-group"> <label>Alias</label> <input type="text" class="form-control" data-ng-model="table.record.alias" placeholder="Enter alias label."> </div> <div class="form-group"> <label>Label</label> <input type="text" class="form-control" data-ng-model="table.record.label" placeholder="Enter table label."> </div> <div class="form-group"> <label>Plural Label</label> <input type="text" class="form-control" data-ng-model="table.record.plural" placeholder="Enter table plural label."> </div> <div class="form-group"> <label>Description</label> <input type="text" class="form-control" data-ng-model="table.record.description" placeholder="Enter table description."> </div> <div class="form-group well well-sm"> <label>Fields</label> <button type="button" class="btn btn-default btn-sm" data-ng-click="addField()" title="Add field" data-ng-disabled="viewMode === 'json'"> Add Field </button> </div> <!--df-table-fields data-table-data="table.record.field"></df-table-fields--> <table class="table table-condensed table-hover table-striped table-bordered"> <th> <th ng-click="sortBy('name')"> Name <span ng-show="propertyName == 'name' && !reverse" class="fa fa-caret-down"></span> <span ng-show="propertyName == 'name' && reverse" class="fa fa-caret-up"></span>  <th ng-click="sortBy('alias')"> Alias <span ng-show="propertyName == 'alias' && !reverse" class="fa fa-caret-down"></span> <span ng-show="propertyName == 'alias' && reverse" class="fa fa-caret-up"></span>  <th ng-click="sortBy('type')"> Type <span ng-show="propertyName == 'type' && !reverse" class="fa fa-caret-down"></span> <span ng-show="propertyName == 'type' && reverse" class="fa fa-caret-up"></span>  <th ng-click="sortBy('required')"> Required <span ng-show="propertyName == 'required' && !reverse" class="fa fa-caret-down"></span> <span ng-show="propertyName == 'required' && reverse" class="fa fa-caret-up"></span>  <tr data-ng-repeat="field in table.record.field | orderBy:propertyName:reverse track by $index "> <td> <button type="button" class="btn btn-default btn-xs" data-ng-click="deleteField(field)" title="Delete field"><i class="fa fa-fw fa-trash"></i></button> <button type="button" class="btn btn-default btn-xs" data-ng-class="field.is_primary_key ? 'btn-warning' : ''" data-ng-click="setPrimaryKey(field)" title="Set primary key"><i class="fa fa-fw fa-key"></i></button>  <td data-ng-click="editField(field)">{{field.name}} <td data-ng-click="editField(field)">{{field.alias}} <td data-ng-click="editField(field)">{{field.type}} <td data-ng-click="editField(field)">{{field.required}}  </table> <div class="form-group well well-sm"> <label>Relationships</label> <button type="button" class="btn btn-default btn-sm" data-ng-click="addRelation()" title="Add virtual relationship" data-ng-disabled="(viewMode === 'json') || table.__dfUI.newTable"> Add Virtual Relationship </button> </div> <table class="table table-condensed table-hover table-striped table-bordered"> <th> <th>Name <th>Alias <th>Type <th>Virtual <tr data-ng-repeat="relation in table.record.related | orderBy:'name' track by $index "> <td> <button type="button" class="btn btn-default btn-xs" data-ng-if="relation.is_virtual" data-ng-click="deleteRelation(relation)" title="Delete Relation"><i class="fa fa-fw fa-trash"></i></button>  <td data-ng-click="editRelation(relation)">{{relation.name}} <td data-ng-click="editRelation(relation)">{{relation.alias}} <td data-ng-click="editRelation(relation)">{{relation.type}} <td data-ng-click="editRelation(relation)">{{relation.is_virtual}}  </table> </div> <div data-ng-show="viewMode === 'json'" class="row"> <div class="col-xs-12"> <df-ace-editor data-direct-data="table.record" data-is-editable="isEditable" data-is-clean="isEditorClean" data-current-editor="editor"></df-ace-editor> </div> </div> <div class="row df-btn-row" style="padding-bottom: 20px; margin-top: 20px"> <div class="col-xs-12"> <button data-ng-if="table.__dfUI.newTable" type="button" class="btn btn-primary save-schema-btn" data-ng-click="saveTable()">Save </button> <button data-ng-if="table.__dfUI.newTable" type="button" class="btn btn-default" data-ng-click="clearTable()">Cancel </button> <button data-ng-if="!table.__dfUI.newTable" type="button" class="btn btn-primary save-schema-btn" data-ng-click="updateTable()">Save </button> <button data-ng-if="!table.__dfUI.newTable" type="button" class="btn btn-default" data-ng-click="closeTable()">Cancel </button> </div> </div> </div> <div data-ng-show="currentEditField !== null"> <df-field-details data-field-data="currentEditField" data-current-table="table.record.name" data-current-service="table.currentService"></df-field-details> </div> <div data-ng-show="currentEditRelation !== null"> <df-relation-details data-relation-data="currentEditRelation" data-current-table="table.record.name" data-current-service="table.currentService"></df-relation-details> </div> </div>